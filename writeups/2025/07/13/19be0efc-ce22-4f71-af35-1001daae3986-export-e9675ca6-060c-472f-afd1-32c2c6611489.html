<!DOCTYPE html>
<html class="direction--ltr"lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>MonitorsThree-Linux-Medium | Pwn3d777</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="MonitorsThree-Linux-Medium" />
<meta name="author" content="GitHub User" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="MonitorsThree" />
<meta property="og:description" content="MonitorsThree" />
<link rel="canonical" href="https://your-site-url/writeups/2025/07/13/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489.html" />
<meta property="og:url" content="https://your-site-url/writeups/2025/07/13/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489.html" />
<meta property="og:site_name" content="Pwn3d777" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-07-13T16:05:57+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="MonitorsThree-Linux-Medium" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"GitHub User"},"dateModified":"2025-07-13T16:05:57+00:00","datePublished":"2025-07-13T16:05:57+00:00","description":"MonitorsThree","headline":"MonitorsThree-Linux-Medium","mainEntityOfPage":{"@type":"WebPage","@id":"https://your-site-url/writeups/2025/07/13/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489.html"},"url":"https://your-site-url/writeups/2025/07/13/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css">
  <link rel="icon" type="image/png" href="/assets/favicon.png" />
  <link rel="stylesheet" href="/assets/css/magnific-popup.css"><link type="application/atom+xml" rel="alternate" href="https://your-site-url/feed.xml" title="Pwn3d777" /><script src="https://code.jquery.com/jquery-3.2.0.min.js"></script> 
  <script src="/assets/js/jquery.magnific-popup.js"></script>
</head>
<body><div class="site-header">
  <div class="wrapper">
    <a class="site-title" rel="author" href="/">Pwn3d777<b class="command_prompt"></b><b class="blinking_cursor">_</b></a>
    <span class="social_links">
        
    </span>
  </div>
</div>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        
<div class="post">
  <h1 class="post-title">MonitorsThree-Linux-Medium</h1>
  
  <div class="post-date">
    Published on 13 Jul 2025
    
  </div>
  
  <h1 id="monitorsthree">MonitorsThree</h1>

<h1 id="1-enumeration">1. Enumeration</h1>
<p><br /><br />
Start with enumeration, there are two ports open
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image.png" alt="image.png" />
<br /><br />
Nothing interesting is disclosed in the main page
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_1.png" alt="image.png" />
<br /><br />
There is a log in page
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_2.png" alt="image.png" />
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_3.png" alt="image.png" />
<br /><br />
And we can recover our password, it’s possible to find sql injections in here because normally it’s necessary to find a user in a database to proceed with password recovery workflow, so we check if the input is sanitized
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_4.png" alt="image.png" />
<br /><br />
Good, it’s vulnerable, keep it up fuzz subdomains and find cacti
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_5.png" alt="image.png" />
<br /><br />
There is a version disclosed but after a research we just found a authenticated vulnerability so most probably is to find the way to sign in here with credentials found in a sql injection
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_6.png" alt="image.png" />
<br /><br /></p>
<h1 id="2-user-flag">2. User flag</h1>
<p><br /><br />
Sqlmap it’s a great tool to address this vulnerability, but in case of htb is really slow, we spend more than 2 hours to get this information thanks to a time based sql injection found it by sqlmap
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_7.png" alt="image.png" />
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_8.png" alt="image.png" />
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_9.png" alt="image.png" />
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_10.png" alt="image.png" />
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_11.png" alt="image.png" />
<br /><br />
But we also have the option to use a bool based sql injection in this scenario, and we would optimize our time from 2 hours to one minute, i explained this here.
<br /><br />
<a href="https://www.notion.so/Bool-based-SQL-injection-fffb952552918089be96c15dab9994ff?pvs=21">Bool based SQL injection</a> 
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_12.png" alt="image.png" />
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_13.png" alt="image.png" />
<br /><br />
Cacti V 1.2.26 is vulnerable to <strong>CVE-2024-25641</strong> where we can upload a malicious package with a base 64 reverse shell waiting to be executed
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_14.png" alt="image.png" />
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_15.png" alt="image.png" />
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_16.png" alt="image.png" />
<br /><br />
Upload the package and trigger the exploit calling to http://[cactiurl]/resource/test.php
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_17.png" alt="image.png" />
<br /><br />
Here we have credentials for a database, but after a long seeking there isn’t valuable here
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_18.png" alt="image.png" />
<br /><br />
Enumerate every file in search of credentials and find other credentials for a sql database
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_19.png" alt="image.png" />
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_20.png" alt="image.png" />
<br /><br />
Sign in to this database skipping the <code class="language-plaintext highlighter-rouge">_</code>
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_21.png" alt="image.png" />
<br /><br />
Find the hash and crack it to get the user flag
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_22.png" alt="image.png" />
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_23.png" alt="image.png" />
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_24.png" alt="image.png" />
<br /><br /></p>
<h1 id="3priv-esc">3.Priv esc</h1>
<p><br /><br />
Start enumerating local services running 
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_25.png" alt="image.png" />
<br /><br />
Forward the traffic and get a duplicati service, and it’s needed to bypass initial authentication, use the next vector attack. First at all we need to download the sqlite databases saved in the app directories, there we have some information about the duplicati database and a clue about how it’s handled the password in the server, we have the passphrase and the salt take this in count for the next steps.
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_26.png" alt="image.png" />
<br /><br /></p>
<ol>
  <li>Send a password capturing the traffic with burpsuite
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_27.png" alt="image.png" />
<br /><br /></li>
  <li>It will return a nonce and a salt based on our password, now we need to convert this to a password that the server trust modifying the format.  In the source page of duplicati we have that both as the salt and nonce are creates before to send it to the server
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_28.png" alt="image.png" />
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_29.png" alt="image.png" />
<br /><br /></li>
  <li>Take the salt is easy just take trusted password found it in the sqlite database and convert it from base64 to hex
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_30.png" alt="image.png" />
<br /><br />
With this we are going to create our valid password, use the same nonce from our given password(take it from server response in burp)
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_ef4c8d22_c22f_4454_b339_1cb6e0fce224.png" alt="image.png" />
<br /><br />
Execute the same command as the source in the console, copy and paste the password, basically the server doesn’t check if the password is registered because it isn’t anywhere, it just check if it has a valid salt.
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_31.png" alt="image.png" />
<br /><br />
Now we are just one step to get root flag, just create a new backup
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_32.png" alt="image.png" />
<br /><br />
No encryption
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_33.png" alt="image.png" />
<br /><br />
set the destination
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_34.png" alt="image.png" />
<br /><br />
Go inside of the computer
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_35.png" alt="image.png" />
<br /><br />
Get source 
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_36.png" alt="image.png" />
<br /><br />
You will find there the flag
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_37.png" alt="image.png" />
<br /><br />
Once the back up is created you need to reload the page to see it in the main dashboard
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_38.png" alt="image.png" />
<br /><br />
Now we proceed to recover the file
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_39.png" alt="image.png" />
<br /><br />
Choose a location on the machine/source path
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_40.png" alt="image.png" />
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_41.png" alt="image.png" />
<br /><br />
There it is 
<br /><br />
<img src="/assets/images/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489_image_42.png" alt="image.png" />
<br /><br />
Finally pwn4d!!!
<script src="/assets/js/matrix-overlay.js"></script></li>
</ol>

<link rel="stylesheet" href="/assets/css/imagesstyle.css" />


</div>


<div class="comments">
<div id="disqus_thread"></div>
<script>
 var disqus_config = function () {
     this.page.url = 'https://your-site-url/writeups/2025/07/13/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489.html';
     this.page.identifier = '/writeups/2025/07/13/19be0efc-ce22-4f71-af35-1001daae3986-export-e9675ca6-060c-472f-afd1-32c2c6611489';
     this.page.title = 'MonitorsThree-Linux-Medium';
 };

 (function() {  // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
     var d = document, s = d.createElement('script');

     s.src = '//<your-disqus-shortname>.disqus.com/embed.js';

     s.setAttribute('data-timestamp', +new Date());
     (d.head || d.body).appendChild(s);
 })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

</div>




<div class="related">
  <h2>related posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/writeups/2025/08/09/dddc540b-b15a-4ca6-a4e5-f95074025ea8-export-c6a747d0-44c2-4f1a-b1f3-cc9f14194be4.html">
            University-Windows-Insane
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/writeups/2025/08/04/d2fd2792-68e0-4168-9904-f90f3bf63609-export-0ee8c1a5-de29-43f8-b0f4-339fa55d28de.html">
            Code-Linux-Easy
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/writeups/2025/07/26/e76d8ea2-ffc7-429a-835f-9f3b0344d1ab-export-d6a1d454-c23f-4600-bcb8-77c5a1ed5947.html">
            Cypher-Linux-Medium
          </a>
        </h3>
      </li>
    
  </ul>
</div>






<script>
  let i = 0;
  const text = '';
  const speed = parseInt('50');
  
  function typeWriter() {
    if (i < text.length) {
      document.getElementById('animated-post-description').innerHTML += text.charAt(i);
      i++;
      setTimeout(typeWriter, speed);
    }
  }

  document.getElementById('animated-post-description').style.display = 'initial';
  typeWriter();

  // Image modal
  var $imgs = [];
  $('img').each(function(idx) {
    var obj = {
      src: $(this).attr('src')
    }
    $imgs.push(obj);
    var elem = $(this);
    $(this).click(function() {
      $('.modal').magnificPopup('open', idx);
    });
  });

  $('.modal').magnificPopup({
    items: $imgs,
    type: 'image',
    closeOnContentClick: true,
    mainClass: 'mfp-img-mobile',
    image: {
      verticalFit: true
    }
    
  });
</script>

      </div>
    </main><footer class="site-footer">
  <div class="wrapper">
    <div class="credits"><a href="https://github.com/bitbrain/jekyll-dash">dash</a> theme for Jekyll by <a href="https://github.com/bitbrain">bitbrain</a> made with <i class="fas fa-heart"></i><div class="toggleWrapper">
    <input type="checkbox" class="dn" id="theme-toggle" onclick="modeSwitcher()" checked />
    <label for="theme-toggle" class="toggle">
    <span class="toggle__handler">
      <span class="crater crater--1"></span>
      <span class="crater crater--2"></span>
      <span class="crater crater--3"></span>
    </span>
        <span class="star star--1"></span>
        <span class="star star--2"></span>
        <span class="star star--3"></span>
        <span class="star star--4"></span>
        <span class="star star--5"></span>
        <span class="star star--6"></span>
    </label>
</div>
<script type="text/javascript">
const theme = localStorage.getItem('theme');

if (theme === "light") {
    document.documentElement.setAttribute('data-theme', 'light');
} else {
    document.documentElement.setAttribute('data-theme', 'dark');
}
const userPrefers = getComputedStyle(document.documentElement).getPropertyValue('content');

function activateDarkTheme() {
    document.getElementById('theme-toggle').checked = true;
    document.documentElement.setAttribute('data-theme', 'dark');
    document.documentElement.classList.add('theme--dark');
    document.documentElement.classList.remove('theme--light');
	document.getElementById("theme-toggle").className = 'light';
	window.localStorage.setItem('theme', 'dark');
}

function activateLightTheme() {
    document.getElementById('theme-toggle').checked = false;
    document.documentElement.setAttribute('data-theme', 'light');
    document.documentElement.classList.add('theme--light');
    document.documentElement.classList.remove('theme--dark');
	document.getElementById("theme-toggle").className = 'dark';
	window.localStorage.setItem('theme', 'light');
}

if (theme === "dark") {
    activateDarkTheme();
} else if (theme === "light") {
    activateLightTheme();
} else if  (userPrefers === "light") {
    activateDarkTheme();
} else {
    activateDarkTheme();
}

function modeSwitcher() {
	let currentMode = document.documentElement.getAttribute('data-theme');
	if (currentMode === "dark") {
	    activateLightTheme();
	} else {
	    activateDarkTheme();
	}
}
</script></div>
  </div>
</footer>


<script>
      window.FontAwesomeConfig = {
        searchPseudoElements: true
      }
    </script>
  </body>

</html>
